# setState

1. 是同步还是异步的?

-   可能是同步的, 也可能是异步的
-   `异步`:
    -   React 能够管理的地方: 合成事件, 生命周期中, 是异步的.
    -   因为 react 为了减少 render 调用次数, 会收集所有状态变更,比对优化, 完了之后,一次性更新.
-   `同步`:
    -   原生事件中, settimeOut
    -   在 18 版本之前, settimeOut 包裹的还是同步的,
    -   在 18 版本中 settimeOut 就变成了异步的.
    -   也就是 dom 挂载方式由 ReactDom 变为通过使用 client 下面的 createRoot 节点来挂载的方式后,

2. 为什么是异步的
    - 减少 dom 更新次数
    - 保持 与 props 的一致性
3. 如何同步拿到修改以后的值?

-   直接将新的值传给要使用的方法中
-   useRef 存一下, 要么在 setState 函数中存, 要么 useEffect 依赖要改变的值,

## 知识点

1. 合成事件
    - 就是通过事件委托的方式, 将事件挂载 到 dom 节点上.
